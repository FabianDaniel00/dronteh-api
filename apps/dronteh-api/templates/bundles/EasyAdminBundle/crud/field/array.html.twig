{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var field \EasyCorp\Bundle\EasyAdminBundle\Dto\FieldDto #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}

{% set fields = [] %}

{% for item in field.value %}
    {% set fieldTrans = 'admin.list.users.roles.'~item|split('ROLE_')[1]|lower %}
    {% set fields = fields|merge([fieldTrans|trans({}, 'admin')]) %}
{% endfor %}

{% if ea.crud.currentAction == 'detail' %}
    <ul>
        {% for item in fields %}
            <li>{{ item }}</li>
        {% endfor %}
    </ul>
{% elseif ea.crud.currentAction == 'index' %}
    {{ fields|join(', ') }}
{% else %}
    {{ field.formattedValue }}
{% endif %}
